<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Bit Manipulation | Mayank Kumar Pal</title>
<meta name="keywords" content="Bit-manipulation, C, C&#43;&#43;, Embedded">
<meta name="description" content="Bitwise Operators The following are the bitwise operators which are available in C/C&#43;&#43; programming language.
Operator Meaning &amp; Bitwise AND | Bitwise OR ^ Bitwise XOR ~ Bitwise complement &laquo; Shift left &raquo; Shift right XOR The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.
A B Result 0 0 0 0 1 1 1 0 1 1 1 0 Few Properties of XOR Property Result A ^ 0 A A ^ 1 ~A A ^ A 0 A ^ A ^ A A A ^ B ^ A B A ^ B ^ B A Few properties of Shift operators.">
<meta name="author" content="">
<link rel="canonical" href="https://mynkpl1998.github.io/blog/bit_manipulation/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.879895b4d5fd89ce0beb4dc2d2820888f6abc1370be8438465503ddda25669ae.css" integrity="sha256-h5iVtNX9ic4L603C0oIIiParwTcL6EOEZVA93aJWaa4=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://mynkpl1998.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://mynkpl1998.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://mynkpl1998.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://mynkpl1998.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://mynkpl1998.github.io/safari-pinned-tab.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://mynkpl1998.github.io/blog/bit_manipulation/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Bit Manipulation" />
<meta property="og:description" content="Bitwise Operators The following are the bitwise operators which are available in C/C&#43;&#43; programming language.
Operator Meaning &amp; Bitwise AND | Bitwise OR ^ Bitwise XOR ~ Bitwise complement &laquo; Shift left &raquo; Shift right XOR The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.
A B Result 0 0 0 0 1 1 1 0 1 1 1 0 Few Properties of XOR Property Result A ^ 0 A A ^ 1 ~A A ^ A 0 A ^ A ^ A A A ^ B ^ A B A ^ B ^ B A Few properties of Shift operators." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mynkpl1998.github.io/blog/bit_manipulation/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-04-08T21:47:41-07:00" />
<meta property="article:modified_time" content="2024-04-08T21:47:41-07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bit Manipulation"/>
<meta name="twitter:description" content="Bitwise Operators The following are the bitwise operators which are available in C/C&#43;&#43; programming language.
Operator Meaning &amp; Bitwise AND | Bitwise OR ^ Bitwise XOR ~ Bitwise complement &laquo; Shift left &raquo; Shift right XOR The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.
A B Result 0 0 0 0 1 1 1 0 1 1 1 0 Few Properties of XOR Property Result A ^ 0 A A ^ 1 ~A A ^ A 0 A ^ A ^ A A A ^ B ^ A B A ^ B ^ B A Few properties of Shift operators."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "",
      "item": "https://mynkpl1998.github.io/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Bit Manipulation",
      "item": "https://mynkpl1998.github.io/blog/bit_manipulation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Bit Manipulation",
  "name": "Bit Manipulation",
  "description": "Bitwise Operators The following are the bitwise operators which are available in C/C++ programming language.\nOperator Meaning \u0026amp; Bitwise AND | Bitwise OR ^ Bitwise XOR ~ Bitwise complement \u0026laquo; Shift left \u0026raquo; Shift right XOR The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.\nA B Result 0 0 0 0 1 1 1 0 1 1 1 0 Few Properties of XOR Property Result A ^ 0 A A ^ 1 ~A A ^ A 0 A ^ A ^ A A A ^ B ^ A B A ^ B ^ B A Few properties of Shift operators.",
  "keywords": [
    "Bit-manipulation", "C", "C++", "Embedded"
  ],
  "articleBody": "Bitwise Operators The following are the bitwise operators which are available in C/C++ programming language.\nOperator Meaning \u0026 Bitwise AND | Bitwise OR ^ Bitwise XOR ~ Bitwise complement « Shift left » Shift right XOR The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.\nA B Result 0 0 0 0 1 1 1 0 1 1 1 0 Few Properties of XOR Property Result A ^ 0 A A ^ 1 ~A A ^ A 0 A ^ A ^ A A A ^ B ^ A B A ^ B ^ B A Few properties of Shift operators. Left shifting the number by 1 - Multiplies the number by 2. Right shifting the number by 1 - Divides the number by 2. Setting a particular bit of register or variable. To set a specific bit of a register or variable, we can use OR operator in combination of shift left operator to move it to a the desired bit location to be set.\nunsigned int a = 10; // 1010 (Binary) a = a | (1\u003c\u003c3); // Sets the 3th bit of the a; Clearing a particular bit of register or variable. To clear a specific bit of a register or variable, we can use AND operator in combination of shift left and compliment operator to move it to the desired bit location to be cleared. The compliment operators inverts the bit to cleared and keep 1s at every other location to keep the original bit for rest while doing AND operation.\nunsigned int a = 10; // 1010 (Binary) a = a \u0026 (~(1\u003c\u003c4)); // Clears the 4th bit of the a; Toggle or flip bit of a register or variable. To toggle or flip a bit, we can use XOR operator. To toggle a specific bit, we can can use XOR in combination with left shift operator to move it to the desired location.\nunsigned int a = 10; // 1010 (Binary) a = a ^ (1\u003c\u003c4) // Toggles the 4th bit. Checking if a given bit is set. To check if the bit is set, we can use AND operator. Create a mask using shift operator where 1 is at the desired location where bit-set needs to be checked.\nunsigned int a = 10; // 1010 (Binary) if( (a \u0026 (1\u003c\u003c3)) == 1 ) // Check if bit is set. printf(\"Bit is set\\n\"); Defining the functions in MACRO The above function can also be written in form of C/C++ MACROS\n#define SET_BIT(number, bit_position) number |= (1\u003c",
  "wordCount" : "1263",
  "inLanguage": "en",
  "datePublished": "2024-04-08T21:47:41-07:00",
  "dateModified": "2024-04-08T21:47:41-07:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://mynkpl1998.github.io/blog/bit_manipulation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Mayank Kumar Pal",
    "logo": {
      "@type": "ImageObject",
      "url": "https://mynkpl1998.github.io/favicon.ico"
    }
  }
}
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>
</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://mynkpl1998.github.io/" accesskey="h" title="Mayank Kumar Pal (Alt + H)">
                <img src="https://mynkpl1998.github.io/command.svg" alt="" aria-label="logo"
                    height="25">Mayank Kumar Pal</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://mynkpl1998.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://mynkpl1998.github.io/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://mynkpl1998.github.io/publications/" title="Publications">
                    <span>Publications</span>
                </a>
            </li>
            <li>
                <a href="https://mynkpl1998.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://mynkpl1998.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
        </ul>
    </nav>
    <hr class="dashed" style="border-width:2px">
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Bit Manipulation
    </h1>
    <div class="post-meta"><span title='2024-04-08 21:47:41 -0700 PDT'>April 8, 2024</span>

</div>
  </header> 
  <div class="post-content"><h3 id="bitwise-operators">Bitwise Operators<a hidden class="anchor" aria-hidden="true" href="#bitwise-operators">#</a></h3>
<p>The following are the bitwise operators which are available in C/C++ programming language.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>&amp;</td>
<td>Bitwise AND</td>
</tr>
<tr>
<td>|</td>
<td>Bitwise OR</td>
</tr>
<tr>
<td>^</td>
<td>Bitwise XOR</td>
</tr>
<tr>
<td>~</td>
<td>Bitwise complement</td>
</tr>
<tr>
<td>&laquo;</td>
<td>Shift left</td>
</tr>
<tr>
<td>&raquo;</td>
<td>Shift right</td>
</tr>
</tbody>
</table>
<h3 id="xor">XOR<a hidden class="anchor" aria-hidden="true" href="#xor">#</a></h3>
<p>The main property of XOR is that it keep the bit same if both operands are same, else it flips the bit.</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3 id="few-properties-of-xor">Few Properties of XOR<a hidden class="anchor" aria-hidden="true" href="#few-properties-of-xor">#</a></h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>A ^ 0</td>
<td>A</td>
</tr>
<tr>
<td>A ^ 1</td>
<td>~A</td>
</tr>
<tr>
<td>A ^ A</td>
<td>0</td>
</tr>
<tr>
<td>A ^ A ^ A</td>
<td>A</td>
</tr>
<tr>
<td>A ^ B ^ A</td>
<td>B</td>
</tr>
<tr>
<td>A ^ B ^ B</td>
<td>A</td>
</tr>
</tbody>
</table>
<h1 id="few-properties-of-shift-operators">Few properties of Shift operators.<a hidden class="anchor" aria-hidden="true" href="#few-properties-of-shift-operators">#</a></h1>
<ol>
<li>Left shifting the number by 1 - Multiplies the number by 2.</li>
<li>Right shifting the number by 1 - Divides the number by 2.</li>
</ol>
<h3 id="setting-a-particular-bit-of-register-or-variable">Setting a particular bit of register or variable.<a hidden class="anchor" aria-hidden="true" href="#setting-a-particular-bit-of-register-or-variable">#</a></h3>
<p>To set a specific bit of a register or variable, we can use OR operator in combination of shift left operator to move it to a the desired bit location to be set.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;    <span style="color:#75715e">// 1010 (Binary)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">|</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>);         <span style="color:#75715e">// Sets the 3th bit of the a;
</span></span></span></code></pre></div><h3 id="clearing-a-particular-bit-of-register-or-variable">Clearing a particular bit of register or variable.<a hidden class="anchor" aria-hidden="true" href="#clearing-a-particular-bit-of-register-or-variable">#</a></h3>
<p>To clear a specific bit of a register or variable, we can use AND operator in combination of shift left and compliment operator to move it to the desired bit location to be cleared. The compliment operators inverts the bit to cleared and keep 1s at every other location to keep the original bit for rest while doing AND operation.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;    <span style="color:#75715e">// 1010 (Binary)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">&amp;</span> (<span style="color:#f92672">~</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">4</span>));      <span style="color:#75715e">// Clears the 4th bit of the a;
</span></span></span></code></pre></div><h3 id="toggle-or-flip-bit-of-a-register-or-variable">Toggle or flip bit of a register or variable.<a hidden class="anchor" aria-hidden="true" href="#toggle-or-flip-bit-of-a-register-or-variable">#</a></h3>
<p>To toggle or flip a bit, we can use XOR operator. To toggle a specific bit, we can can use XOR in combination with left shift operator to move it to the desired location.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;    <span style="color:#75715e">// 1010 (Binary)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    a <span style="color:#f92672">=</span> a <span style="color:#f92672">^</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">4</span>)          <span style="color:#75715e">// Toggles the 4th bit.
</span></span></span></code></pre></div><h3 id="checking-if-a-given-bit-is-set">Checking if a given bit is set.<a hidden class="anchor" aria-hidden="true" href="#checking-if-a-given-bit-is-set">#</a></h3>
<p>To check if the bit is set, we can use AND operator. Create a mask using shift operator where 1 is at the desired location where bit-set needs to be checked.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;          <span style="color:#75715e">// 1010 (Binary)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>( (a <span style="color:#f92672">&amp;</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">3</span>)) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> )       <span style="color:#75715e">// Check if bit is set.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Bit is set</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);    
</span></span></code></pre></div><h3 id="defining-the-functions-in-macro">Defining the functions in MACRO<a hidden class="anchor" aria-hidden="true" href="#defining-the-functions-in-macro">#</a></h3>
<p>The above function can also be written in form of C/C++ MACROS</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#75715e">#define SET_BIT(number, bit_position)        number |= (1&lt;&lt;bit_position)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define CLEAR_BIT(number, bit_position)      number &amp;= ~(1&lt;&lt;bit_position)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define TOGGLE_BIT(number, bit_position)     number ^= (1&lt;&lt;bit_position)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define CHECK_BIT_SET(number, bit_position)  number &amp;= (1&lt;&lt;bit_position) 
</span></span></span></code></pre></div><h3 id="toggle-or-flip-bits-in-the-given-range">Toggle or flip bits in the given range.<a hidden class="anchor" aria-hidden="true" href="#toggle-or-flip-bits-in-the-given-range">#</a></h3>
<p>To toggle the bits of a non-negative number in a given range l and r, create a mask such that the bits in the range [l,r] must be 1 and else 0. The mask is then XORed with the input to toggle the bits.</p>
<p>The assumption is that r &gt;= l and the number N is always a non-negative.</p>
<h4 id="approach-1">Approach 1:<a hidden class="anchor" aria-hidden="true" href="#approach-1">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">toggleBits</span>(<span style="color:#66d9ef">unsigned</span> N, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> l, <span style="color:#66d9ef">unsigned</span> r)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>( r<span style="color:#f92672">&lt;</span>l )
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> mask <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; i<span style="color:#f92672">&lt;=</span>(<span style="color:#66d9ef">sizeof</span>(mask)<span style="color:#f92672">*</span><span style="color:#ae81ff">8</span>); i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>( i<span style="color:#f92672">&gt;=</span>l <span style="color:#f92672">&amp;&amp;</span> i<span style="color:#f92672">&lt;=</span>r )
</span></span><span style="display:flex;"><span>                mask <span style="color:#f92672">|=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>(i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> N<span style="color:#f92672">^</span>mask;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="cheking-if-the-number-is-odd-or-even-using-bit-manupulation">Cheking if the number is odd or even using bit-manupulation.<a hidden class="anchor" aria-hidden="true" href="#cheking-if-the-number-is-odd-or-even-using-bit-manupulation">#</a></h3>
<p>An odd number always has the binary 1 at the least significant position. We can simply check if the least significant bit is set.</p>
<p>Example:</p>
<ul>
<li>53 (0011 1101)2</li>
<li>99 (0110 0011)2</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">99</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> is_odd <span style="color:#f92672">=</span> number <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>;
</span></span></code></pre></div><h3 id="checking-if-the-number-is-power-of-2">Checking if the number is power of 2.<a hidden class="anchor" aria-hidden="true" href="#checking-if-the-number-is-power-of-2">#</a></h3>
<p>The number which are power of 2 all have only single bit set in its binary representation. We can use this to deduce if the number is power of 2.</p>
<p>Example:</p>
<ul>
<li>02 = (0010)2</li>
<li>04 = (0100)2</li>
<li>32 = (0010 0000)2</li>
</ul>
<h4 id="approach-1-count-the-number-of-set-bits-in-the-number">Approach 1: Count the number of set bits in the number.<a hidden class="anchor" aria-hidden="true" href="#approach-1-count-the-number-of-set-bits-in-the-number">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> num_set_bits <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(number <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(number <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>            num_set_bits <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        number <span style="color:#f92672">&gt;&gt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>( num_set_bits <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> )
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Number is power of 2&#34;</span>);
</span></span></code></pre></div><h4 id="approach-2-the-power-of-2-number-always-have-1-at-the-most-significant-position">Approach 2: The power of 2 number always have 1 at the most significant position.<a hidden class="anchor" aria-hidden="true" href="#approach-2-the-power-of-2-number-always-have-1-at-the-most-significant-position">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>( number <span style="color:#f92672">&amp;</span> (number<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) )
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Number is not power of 2&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Number is power of 2&#34;</span>);
</span></span></code></pre></div><h3 id="swaping-the-bits-at-given-positions-of-an-interger">Swaping the bits at given positions of an interger.<a hidden class="anchor" aria-hidden="true" href="#swaping-the-bits-at-given-positions-of-an-interger">#</a></h3>
<p>Given a non-negative integer N, and position i and j. Swap the bits of integer N at position i and j.</p>
<h4 id="aproach-1">Aproach 1:<a hidden class="anchor" aria-hidden="true" href="#aproach-1">#</a></h4>
<p>Example: N =  (000<strong>10</strong>101)2, i = 3, j = 4</p>
<p>First extract the bits at position $i$ and $j$, from $N$.
<code>A = (N&gt;&gt;i) &amp; 1 = 0</code>
<code>B = (N&gt;&gt;j) &amp; 1 = 1</code></p>
<p>If <code>A != B</code>, only then the bits would be swapped, else we return the same N. From XOR properties, we know that <code>A ^ 1 = ~A</code>. We need to create a mask where we have bits set at position i and j.</p>
<p><code>mask = (1&lt;&lt;i) | (1&lt;&lt;j)</code>.</p>
<p>Finally, we can do XOR to toggle the bits at the position of $i$ and $j$.
<code>N = N ^ mask</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">99</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">==</span> j)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> A <span style="color:#f92672">=</span> N<span style="color:#f92672">&gt;&gt;</span>i <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> B <span style="color:#f92672">=</span> N<span style="color:#f92672">&gt;&gt;</span>j <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (A <span style="color:#f92672">==</span> B)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> N;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> mask <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>i) <span style="color:#f92672">|</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;&lt;</span>j);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> N <span style="color:#f92672">=</span> N <span style="color:#f92672">^</span> mask;
</span></span></code></pre></div><h3 id="swap-all-even-or-odd-bits">Swap all even or odd bits.<a hidden class="anchor" aria-hidden="true" href="#swap-all-even-or-odd-bits">#</a></h3>
<p>To swap all even and odd bits, we would need two mask to extract the odd and even bits from the number.</p>
<p>Assumption: The size of int is 32-bit.</p>
<p><code>odd_mask  = number &amp; 0x55555555 even_mask = number &amp; 0xAAAAAAAA </code>
Left Shit the odd_mask by one and the right shift the even_mask by one. The resulting mask is then ORed together to get the swaped values.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> number <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> even_mask <span style="color:#f92672">=</span> number <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">0xAAAAAAAA</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> odd_mask  <span style="color:#f92672">=</span> number <span style="color:#f92672">&amp;</span> <span style="color:#ae81ff">0x55555555</span>;
</span></span><span style="display:flex;"><span>    number <span style="color:#f92672">=</span> ( even_mask <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> odd_mask <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">1</span>);
</span></span></code></pre></div><h3 id="finding-the-sign-of-an-interger-using-bitwise">Finding the sign of an interger using bitwise.<a hidden class="anchor" aria-hidden="true" href="#finding-the-sign-of-an-interger-using-bitwise">#</a></h3>
<p>The negative integer are stored in the form of 2s compliment in the memory. The 2&rsquo;s compliment is calculated by adding $1$ to 1&rsquo;s compliment (obtained by inverting the bits).
MSB is reserved for sign. Negative number are represented by 1 and positive by zero.</p>
<p><em>Why Negative numbers are stored in 2&rsquo;s compliment: It allows the same circuit to perform addition and subtraction.</em></p>
<p>Example:</p>
<p>$13_{10} = (1101)_{2}$</p>
<p>1&rsquo;s compliment = $(0010)_{2}$</p>
<p>2&rsquo;s compliment = $(0011)_{2}$</p>
<p>In memory = $(10011)_{2}$</p>
<p>To check if the number is positive or negative, we can simply check the sign at the most significant bit.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>( (a <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">&amp;&amp;</span> (a <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">31</span>) )    <span style="color:#75715e">// Assuming that int is 32-bit in size.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a is negative</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;a is positive</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span></code></pre></div><h3 id="swap-endianess-of-a-32-bit-integer">Swap endianess of a 32-bit integer.<a hidden class="anchor" aria-hidden="true" href="#swap-endianess-of-a-32-bit-integer">#</a></h3>
<p>Example:</p>
<ul>
<li>Little Endian: 0000 0000 0000 0000 0000 0000 0001 0000</li>
<li>Big Endian:    0000 0001 0000 0000 0000 0000 0000 0000</li>
</ul>
<p>To swap the endianess, create a mask for each bytes to extract their value. The mask values are then ORed together at the correct positions to get the final value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> swapped_a <span style="color:#f92672">=</span> ((<span style="color:#ae81ff">0xFF</span> <span style="color:#f92672">&amp;</span> a) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">24</span>) <span style="color:#f92672">|</span> ((<span style="color:#ae81ff">0xFF00</span> <span style="color:#f92672">&amp;</span> a) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">8</span>) <span style="color:#f92672">|</span> ((<span style="color:#ae81ff">0xFF0000</span> <span style="color:#f92672">&amp;</span> a) <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">8</span>) <span style="color:#f92672">|</span> ((<span style="color:#ae81ff">0xFF000000</span> <span style="color:#f92672">&amp;</span> a) <span style="color:#f92672">&gt;&gt;</span> <span style="color:#ae81ff">24</span>);
</span></span></code></pre></div><h3 id="clear-all-the-lsb-bits-from-a-given-position">Clear all the LSB bits from a given position.<a hidden class="anchor" aria-hidden="true" href="#clear-all-the-lsb-bits-from-a-given-position">#</a></h3>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://mynkpl1998.github.io/tags/bit-manipulation/">Bit-Manipulation</a></li>
      <li><a href="https://mynkpl1998.github.io/tags/c/">C</a></li>
      <li><a href="https://mynkpl1998.github.io/tags/c&#43;&#43;/">C&#43;&#43;</a></li>
      <li><a href="https://mynkpl1998.github.io/tags/embedded/">Embedded</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://mynkpl1998.github.io/">Mayank Kumar Pal</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
